# 事件

-   什么是事件
    1. js 可以监听用户的行为
    2. dom 的事件类型
        - html 事件 基本废弃
            - `<div onclick="事件处理内容">点我</div>`
        - dom 0 级事件
            - 如 `node.onClick = 事件处理函数`
            - 只能设置一个事件处理函数，后者覆盖前者
        - dom1
            - 不是一个监听事件，它是一个设计模式（面向对象）18 种
        - dom2
            - `node.addEventLisener()`
            - 可以同时设置多个事件
        - dom3
            - 跟 dom2 设置是一模一样
            - 基于了 dom2 的前提下，又衍生出了很多的事件类型
            - 如：scroll 滚动事件 transitionend 动画结束事件
    3. dom 事件的执行机制

## 事件流

> 事件的流向：冒泡和捕获

## 冒泡或捕获

### 事件冒泡

> 先触发自身的函数，执行完毕后，触发上级事件。直到 body

### 事件捕获

> 先触发上级事件，执行完毕后，再触发自身事件。直到 body

### 设置冒泡或捕获

-   使用 node.addEventListener(事件类型,事件处理函数,事件冒泡或捕获)
    -   事件冒泡或捕获 是一个布尔值
    -   默认值是 false 事件是冒泡
    -   如果是 true 事件是捕获

## 事件对象（如何停止冒泡或捕获）

### stopPropagation()

-   停止冒泡
    > 通过 e.stopPropagation() 来进行停止冒泡

```
 let baba = document.querySelector('.baba')

baba.addEventListener('click', e => {
    console.log('baba')
    e.stopPropagation()
    console.log(e)
})

```

### preventDefault()

> 使用 preventDefault() 阻止默认行为

```
let btn = document.querySelector('button')
    btn.addEventListener('click', function (e) {
        console.log(e)
        e.preventDefault()
    })
```

## 鼠标事件

| 事件名称   | 作用                                                         |
| ---------- | ------------------------------------------------------------ |
| click      | 鼠标点击                                                     |
| mouseup    | 鼠标松开触发                                                 |
| mousedown  | 鼠标摁下触发                                                 |
| mouseenter | mouseenter 鼠标进入区域触发 第一次才会触发冒泡，后续不再触发 |
| mouseover  | mouseover 鼠标进入区域触发 永远都会触发冒泡                  |
| mouseout   | 1. 移出本身会触发（进入子节点也会触发） 2. 会冒泡            |
| mouseleave | 鼠标离开时触发（进入子节点不会触发） 不会冒泡                |
| mousemove  | 鼠标移动时触发                                               |

## 动画结束事件

> transitionend

## 键盘事件

> 通常搭配 e 事件对象使用

-   e.keyCode -- 返回对应键盘上的 ACSII 码

| 事件名称 | 作用                                 |
| -------- | ------------------------------------ |
| keypress | 按下键盘触发                         |
| keydown  | 按下键盘触发，可以识别功能键，如 ESC |
| keyup    | 键盘弹起触发事件                     |

## 页面事件

| 事件名称 | 作用 |
| -------- | ---- |
| onload   |      |
| onerror  |      |
