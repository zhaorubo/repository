# H5 缓存

> 是一个浏览器机制：h5 缓存

# 作用

1. 保存数据，实现页面数据的持久化
2. 页面之间传递数据

> 普通写的代码，刷新重新执行 js.没有实现数据的持久化 （刷新之后，数据不会丢失依旧存在）

-   将数据存在数据库中，当页面刷新后，通过 ajax 请求过来
-   将数据放在我们 h5 缓存中
    **实战场景： 登录状态的保存**

# H5 缓存的分类

## localStorage 和 sessionStorage

**他们的属性方法的作用和名字都是一样的**

> localStorage 用于本地缓存的操作（本地缓存只要不卸载浏览器 或者 不手动进行删除 都会一直保存不会销毁）
> sessionStorage 用于会话缓存（只要关闭当前网页之后便不再保存自动销毁）

### setItem()

> 添加某个数据到缓存

```
localStorage.setItem('name', 'alex')
localStorage.setItem('age', 18)
```

### getItem()

> 获取某个缓存

```
let a = localStorage.getItem('age')
console.log(a)
```

### removeItem()

> 清除某个缓存

```
localStorage.removeItem('name')
```

### clear()

> 清除全部缓存

```
localStorage.clear()
```

### 复杂数据类型的存储

> 如果你存储的数据是一个对象或者数组，一定先要把数据转成 JSON

```
// 如果你存储的数据是一个对象或者数组
// 先要把数据转成JSON
localStorage.setItem('arr', JSON.stringify([1, 2, 3, 4]))
localStorage.setItem('arr1', JSON.stringify({age:18}))
// 获取的时候，需要把它转换回来
let a = JSON.parse(localStorage.getItem('arr'))
let b = JSON.parse(localStorage.getItem('arr1'))
console.log(a)
console.log(b)
```

## cookies
