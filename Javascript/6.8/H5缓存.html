<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>H5缓存</title>
    </head>
    <body>
        <!-- # H5 缓存

      > 是一个浏览器机制：h5 缓存

        # 作用

        1. 保存数据，实现页面数据的持久化
        2. 页面之间传递数据 
      
      
        普通写的代码，刷新重新执行js
        没有实现数据的持久化 （刷新之后，数据不会丢失依旧存在）
      

        1. 将数据存在数据库中，当页面刷新后，通过ajax请求过来
        2. 将数据放在我们h5缓存中
      -->
        <script src="./cookies.js"></script>
        <script>
            // docCookies.setItem('name', 'jimmy')
            // Cookie可以设置过期时间
            // 15分钟后失效
            let time = 900000
            let newTime = +new Date()
            let endTime = +new Date(newTime + time)

            document.cookie = `age=18;expires=${endTime}`

            // localStorage.setItem('name', 'alex')
            // localStorage.setItem('age', 18)
            // let a = localStorage.getItem('age')
            // console.log(a)
            // localStorage.removeItem('name')
            // localStorage.clear()

            // 如果你存储的数据是一个对象或者数组
            // 先要把数据转成JSON
            // localStorage.setItem('arr', JSON.stringify([1, 2, 3, 4]))
            // 获取的时候，需要把它转换回来
            // let a = JSON.parse(localStorage.getItem('arr'))
            // console.log(a)
            // 原因：缓存中保存的数据永远是字符串，JSON格式就是一个字符串
            // 如果你传递的不是一个字符串，自动帮你转成字符串

            // sessionStorage.setItem('name', 'jack')
        </script>
    </body>
</html>
